Estructura Firestore (hibrido local + sync Firebase)

1) kioscos/{kioscoId}
- nombre: string
- ownerUid: string
- plan: string
- activo: boolean
- createdAt: timestamp

2) usuarios/{uid}
- kioscoId: string
- rol: "empleador" | "empleado"
- email: string
- username: string
- displayName: string
- activo: boolean
- updatedAt: timestamp

3) productos/{productoId}
- kioscoId: string
- nombre: string
- barcode: string
- categoria: string
- precio: number
- costoProveedor: number
- stock: number
- createdBy: string
- createdAt: string(ISO)
- updatedBy: string
- updatedAt: string(ISO)
- syncedAt: timestamp

4) ventas/{ventaId}
- kioscoId: string
- userId: string
- username: string
- role: "empleador" | "empleado"
- total: number
- totalCost: number
- profit: number
- itemsCount: number
- createdAt: string(ISO)
- syncedAt: timestamp

5) venta_items/{itemId}
- saleId: string
- kioscoId: string
- userId: string
- productId: string
- barcode: string
- nombre: string
- quantity: number
- unitPrice: number
- subtotal: number
- unitProviderCost: number
- subtotalCost: number
- createdAt: string(ISO)
- syncedAt: timestamp

6) cierres/{cierreId}
- closureKey: string
- kioscoId: string
- userId: string
- role: "empleador" | "empleado"
- username: string
- dateKey: string (YYYY-MM-DD)
- totalAmount: number
- totalCost: number
- profitAmount: number
- salesCount: number
- itemsCount: number
- createdAt: string(ISO)
- syncedAt: timestamp

7) sesiones/{sessionDocId}
- kioscoId: string
- userId: string
- username: string
- role: "empleador" | "empleado"
- loggedAt: string(ISO)
- createdAt: timestamp

Notas
- Local-first: la app guarda primero en IndexedDB.
- Sync Firestore best effort: si falla red/reglas, no se rompe la operacion local.
- El alta segura de empleados se maneja por Cloud Function callable.
